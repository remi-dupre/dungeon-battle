dist: trusty

language: cpp
script:
 - make doc CPPC=g++-7
 - make debug CPPC=g++-7
 - make tests CPPC=g++-7
 - cd tests
 - ./test_configuration
 - cd ..

before_install:
 - sudo add-apt-repository -y ppa:jonathonf/gcc-7.1
 - sudo apt-get -qq update
 - sudo apt install -y gcc-7
 - sudo apt-get install -y libsfml-dev
 - sudo apt-get install -y doxygen

deploy:
  name: Travis Documentation Generation
  provider: pages
  local_dir: doc/html
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  on:
    branch: master
